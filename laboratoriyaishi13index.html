<!DOCTYPE html>
<html lang="uz">
<head>
 <meta charset="UTF-8">
 <title>O'zbek Milliy Taomlari</title>
 <style>
body{
font-family: Arial, sans-serif;
 background: #f7f7f7;
 margin: 0;
 padding: 20px;
 }
  h1{
text-align: center;
color: #2b3d4f;
 }
 .container{
 max-width: 900px;
 margin: auto;
 background: #fff;
 padding: 20px;
 border-radius: 10px;
 box-shadow: 0 0 10px rgba(0,0,0,0.1);
 }
 .food-item{
 border-bottom: 1px solid #ddd;
 padding: 10px 0;
 }
 button{
 background: #0077cc;
color: white;
 padding: 6px 12px;
 border: none;
 cursor: pointer;
 border-radius: 5px;
 }
 button:hover{
 background: #005fa3;
}
 form{
 margin-top: 20px;
 background: #eef3ff;
 padding: 15px;
border-radius: 10px;
}
 input, select{
 padding: 7px;
 margin: 5px 0;
 width: 100%;
 }
 .details{
 background: #fafafa;
 padding: 10px;
 margin-top: 10px;
 border-left: 3px solid #0077cc;
 }
 </style>
</head>
<body>

 <h1>O'zbek Milliy Taomlari</h1>

 <div class="container">

 <!-- FILTR (change event) -->
 <label><b>Taomlarni turkum bo‘yicha filtrlash:</b></label>
 <select id="filter">
 <option value="barchasi">Barchasi</option>
 <option value="osh">Oshlar</option>
 <option value="sho'rva">Sho‘rvlar</option>
 <option value="shirinlik">Shirinliklar</option>
 </select>

 <div id="foodList"></div>

  <!-- FORM (submit event) -->
<form id="foodForm">
 <h3>Yangi taom qo‘shish</h3>
 <input type="text" id="name" placeholder="Taom nomi" required>Z
 <select id="category" required>
<option value="">Turkumni tanlang</option>
 <option value="osh">Osh</option>
 <option value="sho'rva">Sho‘rva</option>
 <option value="shirinlik">Shirinlik</option>
 </select>

<input type="text" id="info" placeholder="Taom haqida qisqa ma’lumot" required>

 <button type="submit">Qo‘shish</button>
 </form>

 </div>

<script>
// Boshlang‘ich taomlar
let foods = [
 {name: "Osh", category: "osh", info: "O‘zbeklarning eng mashhur milliy taomi."},
 {name: "Mastava", category: "sho'rva", info: "Goshtli, sabzavotli sho‘rva."},
 {name: "Nisholda", category: "shirinlik", info: "Ko‘pikchaga o‘xshash shirinlik."}
];

// Taomlarni chiqarish funksiyasi
function displayFoods(){
 let filterValue = document.getElementById("filter").value;
 let listDiv = document.getElementById("foodList");
listDiv.innerHTML = "";

 foods
 .filter(f => filterValue === "barchasi" || f.category === filterValue)
 .forEach((food, index) => {

 let item = document.createElement("div");
 item.className = "food-item";
 item.innerHTML = `
 <h3>${food.name}</h3>
 <button onclick="showDetails(${index})">Batafsil</button>
 <div id="details-${index}" class="details" style="display:none">
 <p>${food.info}</p>
 </div>
 `;
 listDiv.appendChild(item);
 });
}

displayFoods();

// CLICK EVENT — batafsil ko‘rsatish
function showDetails(i){
let block = document.getElementById("details-" + i);
 block.style.display = (block.style.display === "none") ? "block" : "none";
}

// SUBMIT EVENT — yangi taom qo‘shish
document.getElementById("foodForm").addEventListener("submit", function(e){
 e.preventDefault();

 let name = document.getElementById("name").value;
 let category = document.getElementById("category").value;
 let info = document.getElementById("info").value;

 foods.push({name, category, info});
 displayFoods();

// Formani tozalash
 document.getElementById("foodForm").reset();
});

// CHANGE EVENT — filtr ishlashi
document.getElementById("filter").addEventListener("change", displayFoods);

</script>

</body>
</html>